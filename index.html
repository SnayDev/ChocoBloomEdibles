<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChocoBloom</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500&display=swap" rel="stylesheet">
  <link href="https://cdn.materialdesignicons.com/7.4.47/css/materialdesignicons.min.css" rel="stylesheet">
</head>
<body>
  <div class="hamburger" onclick="toggleMenu()" aria-label="Menu" tabindex="0">
    <div></div><div></div><div></div>
  </div>

  <div id="splash-screen">
    <div class="splash-logo">
      <img src="img/mascotte.png" alt="Mascotte" />
      <h1>CHOCOBLOOM</h1>
    </div>
  </div>
  <div id="age-gate" class="age-gate">
    <div class="age-popup">
      <p>Hai più di 21 anni?</p>
      <button onclick="enterSite(true)">Sì</button>
      <button onclick="enterSite(false)">No</button>
    </div>
  </div>

  <header class="navbar">
    <nav class="navbar-inner">
      <div class="navbar-logo-center">
        <a href="index.html">
          <img id="mascotte-navbar" src="img/mascotte.png" alt="Mascotte navbar" />
        </a>
      </div>
      <ul class="navbar-menu">
        <li><a href="prodotti.html"><i class="mdi mdi-cube-outline"></i> PRODOTTI</a></li>
        <li><a href="#about"><i class="mdi mdi-eye-outline"></i> VISIONE</a></li>
        <li><a href="#timeline"><i class="mdi mdi-history"></i> STORIA</a></li>
        <li><a href="#footer"><i class="mdi mdi-email-outline"></i> CONTATTI</a></li>
      </ul>
    </nav>
    <nav class="side-menu" id="sideMenu">
      <ul>
        <li><a href="prodotti.html"><i class="mdi mdi-cube-outline"></i> PRODOTTI</a></li>
        <li><a href="#about"><i class="mdi mdi-eye-outline"></i> VISIONE</a></li>
        <li><a href="#timeline"><i class="mdi mdi-history"></i> STORIA</a></li>
        <li><a href="#footer"><i class="mdi mdi-email-outline"></i> CONTATTI</a></li>
      </ul>
    </nav>
  </header>

  <section class="hero hero-home fadein">
    <div class="hero-content">
      <h1>CHOCOBLOOM</h1>
      <p class="hero-desc">Premium Edibles. 1000mg. Made to elevate.</p>
      <a href="prodotti.html" class="cta glowing">SCOPRI I PRODOTTI</a>
      <div class="bloom-animation"></div>
    </div>
  </section>


  <section class="moodboard-section fadein">
    <h2>Moodboard Sensoriale</h2>
    <div class="moodboard-grid">
      <div class="moodboard-item"><img src="img/sensoriale.png" alt="Mood 1" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';"><span>Avvolgente</span></div>
      <div class="moodboard-item"><img src="img/mood2.png" alt="Mood 2" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';"><span>Fiorito</span></div>
      <div class="moodboard-item"><img src="img/mood3.png" alt="Mood 3" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';"><span>Intenso</span></div>
      <div class="moodboard-item"><img src="img/mood4.png" alt="Mood 4" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';"><span>Magico</span></div>
    </div>
  </section>

  <section id="timeline" class="timeline-section fadein">
    <h2>La Storia di ChocoBloom</h2>
    <div class="timeline">
      <div class="timeline-step">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>Origine</h3>
          <p>Dalla pianta al chicco: selezioniamo solo cacao sudamericano e distillati californiani certificati.</p>
        </div>
      </div>
      <div class="timeline-step">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>Alchimia</h3>
          <p>La magia artigianale italiana incontra la precisione della cannabis moderna: nasce ChocoBloom.</p>
        </div>
      </div>
      <div class="timeline-step">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>Esperienza</h3>
          <p>Un viaggio sensoriale unico, potente e raffinato. Edibles, elevati.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="ingredienti-section fadein">
    <h2>Ingredienti Scelti & Certificazioni</h2>
    <div class="ingredienti-list">
      <div class="ingrediente">
        <img src="img/cacao.png" alt="Cacao premium" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';">
        <span>Cacao Criollo BIO</span>
      </div>
      <div class="ingrediente">
        <img src="img/distillato.png" alt="Distillato D9" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';">
        <span>Distillato D9 Californiano</span>
      </div>
      <div class="ingrediente">
        <img src="img/vaniglia.png" alt="Vaniglia naturale" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';">
        <span>Vaniglia Bourbon Naturale</span>
      </div>
      <div class="badge-cert">
        <img src="img/badge-lab.png" alt="Lab tested" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';">
        <span>Lab Tested</span>
      </div>
      <div class="badge-cert">
        <img src="img/badge-bio.png" alt="Biologico" onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';">
        <span>Biologico</span>
      </div>
    </div>
  </section>


  <section class="faq-section fadein">
    <h2>FAQ</h2>
    <div class="faq-list">
      <div class="faq-item">
        <button class="faq-q">Come viene prodotto ChocoBloom?</button>
        <div class="faq-a">Ogni cioccolatino è realizzato artigianalmente in piccoli lotti, con ingredienti selezionati e distillato testato in laboratorio.</div>
      </div>
      <div class="faq-item">
        <button class="faq-q">Quanto dura l’effetto?</button>
        <div class="faq-a">L’effetto dura tra 4 e 8 ore, dipende dalla tolleranza personale e dalla dose scelta.</div>
      </div>
      <div class="faq-item">
        <button class="faq-q">È legale in Italia?</button>
        <div class="faq-a">ChocoBloom è un marchio registrato in California, e prodotto esclusivamente nello stesso stato, negli USA</div>
      </div>
    </div>
  </section>

  <section class="rituale-section fadein">
    <h2>Il Rituale ChocoBloom</h2>
    <div class="rituale-content">
      <p>
        Ritagliati un momento tutto tuo.<br>
        Scegli la dose, ascolta la nostra playlist, gusta lentamente.<br>
        Lasciati portare lontano: <span class="accent">edibles, elevati.</span>
      </p>
      <a href="prodotti.html" class="cta">Inizia il rituale</a>
    </div>
  </section>

  <section id="about" class="about-section fadein">
    <h2>La Visione</h2>
    <p>
      ChocoBloom nasce dall’unione tra l’arte pasticcera italiana e il meglio del distillato californiano.<br>
      Ogni cioccolatino è un viaggio sensoriale, potente e preciso.<br>
      <span class="accent">Edibles, elevati.</span>
    </p>
  </section>

  <footer id="footer" class="footer">
    <div>
      <a href="https://t.me/ChocoBloomEdibles_Order" target="_blank">Telegram</a>
      <span>·</span>
      <a href="https://instagram.com/chocobloomedibles" target="_blank">Instagram</a>
    </div>
    <div class="footer-copy">
      © 2025 ChocoBloom. Prodotto in California – Ideato in Italia.
    </div>
    <div class="footer-accessibility">
      <small>Accessibilità: testo ad alto contrasto, navigazione da tastiera, immagini con alt, audio descritto. Sito ottimizzato per mobile e desktop.</small>
    </div>
  </footer>

  <script src="scroll.js"></script>
  <script>
    // Hamburger menu toggle logic
    function toggleMenu() {
      const menu = document.getElementById('sideMenu');
      const burger = document.querySelector('.hamburger');
      menu.classList.toggle('show');
      burger.classList.toggle('open');
    }
    document.getElementById("chocobloom-quiz").onsubmit = function(e) {
      e.preventDefault();
      var effect = this.effect.value;
      var flavor = this.flavor.value;
      var result = "";
      if(effect === "relax" && flavor === "fondente") result = "ChocoBomb 1000mg";
      else if(effect === "creativo" && flavor === "nocciola") result = "ChocoMicro 500mg";
      else if(effect === "intenso") result = "ChocoBomb 1000mg";
      else if(flavor === "bianco") result = "ChocoWhite 300mg";
      else result = "ChocoBloom Classico";
      document.getElementById("quiz-result").innerHTML = "<b>Consigliato:</b> " + result + "!";
    }

    document.addEventListener("DOMContentLoaded", function() {
      document.getElementById('dose-calc-form').addEventListener('submit', function(e){
        e.preventDefault();
        const weight = parseFloat(this.weight.value);
        const sex = this.sex.value;
        const tolerance = this.tolerance.value;
        let dose = weight * 0.2;
        if(sex === 'f') dose *= 0.85;
        if(sex === 'x') dose *= 0.93;
        if(tolerance === 'none') dose *= 0.5;
        else if(tolerance === 'low') dose *= 0.75;
        else if(tolerance === 'med') dose *= 1;
        else if(tolerance === 'high') dose *= 2;
        dose = Math.round(dose);
        if(dose < 5) dose = 5;
        if(dose > 80) dose = 80;
        let level = '';
        if(dose <= 8) level = 'Microdose: effetto percepibile e leggero.';
        else if(dose <= 15) level = 'Dose bassa: effetto soft, adatto a principianti.';
        else if(dose <= 30) level = 'Dose media: esperienza intensa per la maggior parte degli utenti.';
        else level = 'Dose alta: solo per utenti con alta tolleranza.';
        document.getElementById('dose-calc-result').innerHTML =
          `<b>Dose consigliata:</b> ${dose}mg THC<br><span>${level}</span>`;
      });
    });

    var doseRange = document.getElementById("dose-range");
    var doseValue = document.getElementById("dose-value");
    var doseDesc = document.getElementById("dose-desc");
    if(doseRange && doseValue && doseDesc) {
      doseRange.oninput = function() {
        doseValue.textContent = this.value + "mg";
        if(this.value < 150) doseDesc.textContent = "Effetto: Leggero, adatto a principianti.";
        else if(this.value < 400) doseDesc.textContent = "Effetto: Chill preciso, perfetto per iniziare.";
        else if(this.value < 700) doseDesc.textContent = "Effetto: Viaggio sensoriale intenso, solo per esperti.";
        else doseDesc.textContent = "Effetto: Esperienza molto intensa, dosare con cautela!";
      }
    }

    // Nuova funzione FAQ su index.html: stile coerente ma riscritta da zero
    document.addEventListener("DOMContentLoaded", function () {
      const faqs = document.querySelectorAll(".faq-item");

      faqs.forEach(item => {
        const question = item.querySelector(".faq-q");
        const answer = item.querySelector(".faq-a");

        question.addEventListener("click", () => {
          const currentlyOpen = document.querySelector(".faq-a.open");
          if (currentlyOpen && currentlyOpen !== answer) {
            currentlyOpen.classList.remove("open");
            currentlyOpen.previousElementSibling.classList.remove("open");
          }

          question.classList.toggle("open");
          answer.classList.toggle("open");
        });
      });
    });

    setInterval(() => {
      let el = document.getElementById("orders-today");
      let n = parseInt(el.textContent);
      if(n < 99) el.textContent = n + Math.round(Math.random());
    }, 8000);

    let dropSec = 3*3600 + 12*60 + 45;
    setInterval(() => {
      if(dropSec <= 0) return;
      dropSec--;
      let h = Math.floor(dropSec/3600);
      let m = Math.floor((dropSec%3600)/60);
      let s = dropSec%60;
      document.getElementById("drop-timer").textContent = "Nuovo drop tra " + 
        (h<10?"0":"") + h + ":" + (m<10?"0":"") + m + ":" + (s<10?"0":"") + s;
    }, 1000);

    document.getElementById("mascotte-navbar").onmouseover = function() {
      this.style.transform = "scale(1.12) rotate(-8deg)";
      this.style.filter = "drop-shadow(0 0 32px #ff00cc) drop-shadow(0 0 80px #fff)";
    }
    document.getElementById("mascotte-navbar").onmouseleave = function() {
      this.style.transform = "";
      this.style.filter = "";
    }
    // Optional: close menu when clicking outside
    document.addEventListener("click", function (event) {
      const sideMenu = document.getElementById("sideMenu");
      const hamburger = document.querySelector(".hamburger");
      const isClickInsideMenu = sideMenu.contains(event.target);
      const isClickOnHamburger = hamburger.contains(event.target);
      const isClickInsideNavbar = event.target.closest(".navbar");

      if (!isClickInsideMenu && !isClickOnHamburger && !isClickInsideNavbar) {
        sideMenu.classList.remove("show");
        hamburger.classList.remove("open");
      }
    });
</script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const faqButtons = document.querySelectorAll('.faq-q');
      faqButtons.forEach(button => {
        button.addEventListener('click', function () {
          const answer = this.nextElementSibling;

          // Chiudi le altre risposte aperte
          document.querySelectorAll('.faq-a').forEach(a => {
            if (a !== answer) {
              a.classList.remove('open');
              a.previousElementSibling.classList.remove('open');
            }
          });

          // Toggle questa
          this.classList.toggle('open');
          answer.classList.toggle('open');
        });
      });
    });
  </script>
</body>
</html>
